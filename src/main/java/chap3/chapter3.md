## 3장 : 역할, 책임, 협력

### 협력
- 객체들이 애플리케이션의 기능을 구현하기 위해 수행하는 상호 작용을 의미한다.
- 객체들이 협력 안에서 수행하는 책임들이 모여 객체가 수행하는 '역할'을 구성한다.(협력 내의 책임 집합)
- 객체가 자율적인 존재가 되기 위해서는, 자신이 알고 있는 정보를 이용해 직접 행동을 해야한다.
- 객체란 상태와 행동을 함께 캡슐화 하는 실행 단위이다. 
- 협력은 객체의 행동을 결정하고, 행동은 객체의 상태를 결정한다. 따라서 협력은 객체를 설계하는 데 필요한 일종의 문맥(context)을 제공한다.



### 책임
- 하는 것(doing), 아는 것(knowing)으로 구분할 수 있다.
   - 하는 것 
       - 객체를 생성하거나, 계산을 수행하는 등 스스로 하는 것
       - 다른 객체의 행동을 시작시키는 것
       - 다른 객체의 활동을 제어하고 조절하는 것
    
   - 아는 것
       - 사적인 정보에 관해 아는 것
       - 관련된 객체에 관해 아는 것
       - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
    


- 책임은 객체가 수행할 수 있는 행동을 종합적이고 간략하게 서술한다. 따라서 메시지보다 추상적이고 개념적으로 더 크다.


- CRC 카드 : Candidate(후보), Responsibility(책임), Collaborator(협력자)를 표현할 수 있는 객체 지향 설계 기법


- 책임 할당 : 책임을 수행하는 데 필요한 정보를 가장 잘 알고 잇는 전문가에게 그 책임을 할당하는 것(Informatioin Expert - 정보 전문가 패턴)
  
- 책임 주도 설계 : 메시지가 객체를 결정한다.
   - 객체가 최소한의 인터페이스를 가질 수 있게 한다.
   - 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.
    

- 객체가 존재하는 이유는 협력에 참여하기 위해서이다. 따라서 객체는 협력에 필요한 행동을 제공해야 하며, 객체를 객체답게 만드는 것은 객체의 상태가 아니라 다른 객체에게 제공하는 행동이다.



### 역할 
- 어떤 객체가 특정한 협력 안에서 수행하는 책임의 집합을 의미한다.
- 실제로 협력을 모델링할 때는 특정 객체가 아니라 역할에게 책임을 할당한다고 생각하자.
- 역할은 다른 것으로 교체할 수 있는 책임의 집합이다.
- 역할을 구현하는 일반적인 방법은 추상 클래스와 인터페이스이다.
- 단지 한 종류의 객체만이 협력에 참여할 필요가 있다면, 후보는 객체가 된다. 여러 종류의 객체에 의해 수행될 필요가 있다면 후보는 역할이 된다.
- 역할은 객체가 협력에 참여하는 잠시 동안에만 존재하는 일시적인 개념이다. 
- 연극 안에서 배역을 연기하는 배우 = 협력 안에서 역할을 수행하는 객체
- 배우가 여러 연극에 참여해서 여러 배역을 연기할 수 있는 것처럼, 객체도 여러 협력에 참여하면서 다양한 역할을 수행할 수 있다.
- 역할은 특정한 객체의 종류를 캡슐화하기 때문에 동일한 역할을 수행한다.
- 계약을 준수하는 대체 가능한 객체들은 다형적이다.